import{d as b,u as $,s as f,b as e,r as k}from"./homepage-ce892470.js";import{r as d}from"./_plugin-vue_export-helper-4f0f36be.js";const o="https://vue3-course-api.hexschool.io/v2",s="woodbox",J=b("productsSeries",()=>{const{getCart:h}=$(),{cartData:y}=f($()),c=d([]),u=d(1),p=d(""),v=d(),i=d([]),n=d([]),g=d(1);return{changeProducts:a=>{switch(a){case 1:e.get(`${o}/api/${s}/products?category=桌子/茶几`).then(t=>{c.value=t.data.products,u.value=a});break;case 2:e.get(`${o}/api/${s}/products?category=沙發`).then(t=>{c.value=t.data.products,u.value=a});break;case 3:e.get(`${o}/api/${s}/products?category=客/餐廳櫃類`).then(t=>{c.value=t.data.products,u.value=a});break;case 4:e.get(`${o}/api/${s}/products?category=臥房櫃類`).then(t=>{c.value=t.data.products,u.value=a});break;case 5:e.get(`${o}/api/${s}/products?category=椅/凳子`).then(t=>{c.value=t.data.products,u.value=a});break;case 6:e.get(`${o}/api/${s}/products?category=木製小物`).then(t=>{c.value=t.data.products,u.value=a});break}},product:c,borderLine:a=>{const t="click",r="";return u.value==a?t:r},searchText:p,search:()=>{p.value!=""&&e.get(`${o}/api/${s}/products/all`).then(a=>{console.log(a.data.products),c.value=a.data.products.filter(t=>{if(t.title.match(p.value)!=null)return t.title.match(p.value)})})},details:a=>{g.value=1,i.value=[],v.value=a,e.get(`${o}/api/${s}/products?category=${a.category}`).then(t=>{n.value=[];for(var r=0;r<t.data.products.length;r++)n.value.push(r);n.value.sort(()=>Math.random()-.5),n.value.length=4;for(let l=0;l<=3;l++)i.value.push(t.data.products[n.value[l]]);sessionStorage.setItem("alosLike",JSON.stringify(i.value))}),sessionStorage.setItem("product",JSON.stringify(a))},productPage:v,alosLike:i,addCart:(a,t=1)=>{const r={product_id:a.id,qty:t};e.post(`${o}/api/${s}/cart`,{data:r}).then(C=>{h()}),new bootstrap.Toast(document.getElementById("toast")).show()},cartData:y,productQuantity:g,buy:(a,t)=>{const r={product_id:a.id,qty:t};e.post(`${o}/api/${s}/cart`,{data:r}).then(l=>{h()}),k.push("/checkout")}}});export{J as u};
