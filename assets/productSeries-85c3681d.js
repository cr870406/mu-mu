import{d as w,u as y,s as C,b as e,r as S}from"./homepage-a91602a0.js";import{r as d}from"./_plugin-vue_export-helper-4f0f36be.js";const o="https://vue3-course-api.hexschool.io/v2",r="woodbox",E=w("productsSeries",()=>{const{getCart:h}=y(),{cartData:b}=C(y()),c=d([]),u=d(1),p=d(""),i=d(),v=d([]),n=d([]),g=d(),$=d(1),f=a=>{switch(a){case 1:e.get(`${o}/api/${r}/products?category=桌子/茶几`).then(t=>{c.value=t.data.products,u.value=a});break;case 2:e.get(`${o}/api/${r}/products?category=沙發`).then(t=>{c.value=t.data.products,u.value=a});break;case 3:e.get(`${o}/api/${r}/products?category=客/餐廳櫃類`).then(t=>{c.value=t.data.products,u.value=a});break;case 4:e.get(`${o}/api/${r}/products?category=臥房櫃類`).then(t=>{c.value=t.data.products,u.value=a});break;case 5:e.get(`${o}/api/${r}/products?category=椅/凳子`).then(t=>{c.value=t.data.products,u.value=a});break;case 6:e.get(`${o}/api/${r}/products?category=木製小物`).then(t=>{c.value=t.data.products,u.value=a});break}},k=a=>{const t="click",s="";return u.value==a?t:s},m=()=>{p.value!=""&&e.get(`${o}/api/${r}/products/all`).then(a=>{console.log(a.data.products),c.value=a.data.products.filter(t=>{if(t.title.match(p.value)!=null)return t.title.match(p.value)})})},x=a=>{e.get(`${o}/api/${r}/product/${a}`).then(t=>{i.value=t.data.product,g.value=i.value.imagesUrl[0],P(i.value.category)})},P=a=>{$.value=1,n.value=[],e.get(`${o}/api/${r}/products?category=${a}`).then(t=>{for(var s=0;s<t.data.products.length;s++)n.value.push(s);n.value.sort(()=>Math.random()-.5),n.value.length=4,v.value=[];for(let l=0;l<=3;l++)v.value.push(t.data.products[n.value[l]])})};return{changeProducts:f,product:c,borderLine:k,searchText:p,search:m,details:x,productPage:i,alosLike:v,addCart:(a,t=1)=>{const s={product_id:a.id,qty:t};e.post(`${o}/api/${r}/cart`,{data:s}).then(_=>{h()}),new bootstrap.Toast(document.getElementById("toast")).show()},cartData:b,productQuantity:$,buy:(a,t)=>{const s={product_id:a.id,qty:t};e.post(`${o}/api/${r}/cart`,{data:s}).then(l=>{h()}),S.push("/checkout")},mainPic:g,index:u}});export{E as u};
